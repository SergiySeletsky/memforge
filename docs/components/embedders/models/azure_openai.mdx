---
title: Azure OpenAI
---

To use Azure OpenAI embedding models, set the `EMBEDDING_AZURE_OPENAI_API_KEY`, `EMBEDDING_AZURE_DEPLOYMENT`, `EMBEDDING_AZURE_ENDPOINT` and `EMBEDDING_AZURE_API_VERSION` environment variables. You can obtain the Azure OpenAI API key from the Azure.

### Usage

```typescript TypeScript
import { Memory } from 'mem0ai/oss';

const config = {
    embedder: {
        provider: "azure_openai",
        config: {
            model: "text-embedding-3-large",
            modelProperties: {
                endpoint: "your-api-base-url",
                deployment: "your-deployment-name",
                apiVersion: "version-to-use",
            }
        }
    }
}

const memory = new Memory(config);

const messages = [
    {"role": "user", "content": "I'm planning to watch a movie tonight. Any recommendations?"},
    {"role": "assistant", "content": "How about thriller movies? They can be quite engaging."},
    {"role": "user", "content": "Iâ€™m not a big fan of thriller movies but I love sci-fi movies."},
    {"role": "assistant", "content": "Got it! I'll avoid thriller recommendations and suggest sci-fi movies in the future."}
]

await memory.add(messages, { userId: "john" });
```

As an alternative to using an API key, the Azure Identity credential chain can be used to authenticate with [Azure OpenAI role-based security](https://learn.microsoft.com/en-us/azure/ai-foundry/openai/how-to/role-based-access-control). 

<Note> If an API key is provided, it will be used for authentication over an Azure Identity </Note>

Below is a sample configuration for using Mem0 with Azure OpenAI and Azure Identity:

Refer to [Azure Identity troubleshooting tips](https://github.com/Azure/azure-sdk-for-python/blob/main/sdk/identity/azure-identity/TROUBLESHOOTING.md#troubleshoot-environmentcredential-authentication-issues) for setting up an Azure Identity credential.

### Config

Here are the parameters available for configuring Azure OpenAI embedder:
<Tabs>
<Tab title="Python">
| Parameter | Description | Default Value |
| --- | --- | --- |
| `model` | The name of the embedding model to use | `text-embedding-3-small` |
| `embedding_dims` | Dimensions of the embedding model | `1536` |
| `azure_kwargs` | The Azure OpenAI configs | `config_keys` |
</Tab>
<Tab title="TypeScript">
| Parameter         | Description                                   | Default Value              |
| ----------------- | --------------------------------------------- | -------------------------- |
| `model`           | The name of the embedding model to use        | `text-embedding-3-small`   |
| `embeddingDims`   | Dimensions of the embedding model             | `1536`                     |
| `apiKey`          | Azure OpenAI API key                          | `None`                     |
| `modelProperties` | Object containing endpoint and other settings | `{ endpoint: "",...rest   }`|
</Tab>
</Tabs>
