---
title: Memory-Powered Agent SDK
description: "Expose Mem0 memories as callable tools inside OpenAI agent workflows."
---


Integrate Mem0's memory capabilities with OpenAI's Agents SDK to create AI agents with persistent memory. Agents remember past conversations and use that context to provide better responses.

## Installation

```bash
npm install @openai/agents mem0ai zod
```

## Setting Up Environment Variables

```bash
export MEM0_API_KEY="your_mem0_api_key"
export OPENAI_API_KEY="your_openai_api_key"
```

## Code Structure

The integration consists of three main components:

1. **Memory Tools**: Functions to add, search, and retrieve memories
2. **Memory Agent**: An agent configured to use these memory tools
3. **Runtime Loop**: A loop to handle user input and agent responses

## Step-by-Step Implementation

### 1. Import Dependencies and Initialize Client

```ts
import { Agent, run, tool } from "@openai/agents";
import MemoryClient from "mem0ai";
import { z } from "zod";

const client = new MemoryClient({ apiKey: process.env.MEM0_API_KEY });
```

### 2. Create Memory Tools

```ts
const addToMemory = tool({
  name: "add_to_memory",
  description: "Add a message to Mem0 memory",
  parameters: z.object({
    content: z.string().describe("The content to store in memory"),
    userId: z.string().describe("The user ID").default("default_user"),
  }),
  execute: async ({ content, userId }) => {
    await client.add([{ role: "user", content }], { userId });
    return `Stored message: ${content}`;
  },
});

const searchMemory = tool({
  name: "search_memory",
  description: "Search for memories in Mem0",
  parameters: z.object({
    query: z.string().describe("The search query"),
    userId: z.string().describe("The user ID").default("default_user"),
  }),
  execute: async ({ query, userId }) => {
    const memories = await client.search(query, { userId });
    return memories?.results?.map((r: any) => r.memory).join("\n") ?? "No memories found.";
  },
});

const getAllMemory = tool({
  name: "get_all_memory",
  description: "Retrieve all memories from Mem0",
  parameters: z.object({
    userId: z.string().describe("The user ID").default("default_user"),
  }),
  execute: async ({ userId }) => {
    const memories = await client.getAll({ filters: { AND: [{ user_id: userId }] } });
    return memories?.results?.map((r: any) => r.memory).join("\n") ?? "No memories found.";
  },
});
```

### 3. Configure the Memory Agent

```ts
const memoryAgent = new Agent({
  name: "Memory Assistant",
  instructions: `You are a helpful assistant with memory capabilities. You can:
    1. Store new information using add_to_memory
    2. Search existing information using search_memory
    3. Retrieve all stored information using get_all_memory
    When users ask questions:
    - If they want to store information, use add_to_memory
    - If they're searching for specific information, use search_memory
    - If they want to see everything stored, use get_all_memory`,
  tools: [addToMemory, searchMemory, getAllMemory],
  model: "gpt-4.1-nano-2025-04-14",
});
```

### 4. Run the Agent

```ts
async function main() {
  const userId = "user123";

  // Store a memory
  const result1 = await run(memoryAgent, `Remember that my favorite color is blue (userId: ${userId})`);
  console.log(result1.finalOutput);

  // Search memory
  const result2 = await run(memoryAgent, `What's my favorite color? (userId: ${userId})`);
  console.log(result2.finalOutput);

  // Retrieve all memories
  const result3 = await run(memoryAgent, `What do you know about me? (userId: ${userId})`);
  console.log(result3.finalOutput);
}

main();
```

## Usage Examples

### Storing Information

```
User: Remember that my favorite color is blue
Agent: I've stored that your favorite color is blue in my memory.
```

### Searching Memory

```
User: What's my favorite color?
Agent: Your favorite color is blue, based on what you've told me earlier.
```

### Retrieving All Memories

```
User: What do you know about me?
Agent: Based on our previous conversations, I know that:
1. Your favorite color is blue
2. Your birthday is on March 15
```

## Resources

- [Mem0 Documentation](https://docs.mem0.ai)
- [Mem0 Dashboard](https://app.mem0.ai/dashboard)
- [API Reference](https://docs.mem0.ai/api-reference)

---

<CardGroup cols={2}>
  <Card title="OpenAI Tool Calls with Mem0" icon="wrench" href="/cookbooks/integrations/openai-tool-calls">
    Extend OpenAI assistants with tool-based memory operations.
  </Card>
  <Card title="Build a Mem0 Companion" icon="users" href="/cookbooks/essentials/building-ai-companion">
    Learn the core patterns for memory-powered agents with any SDK.
  </Card>
</CardGroup>
